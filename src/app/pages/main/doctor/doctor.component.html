<app-cover title="Doctor Details" sub1="Home" sub2="Doctor"></app-cover>

@if (doctorDetails) {
<div class="container mx-auto mt-12 max-w-5xl px-1 md:px-12">
  <div>
    <div>
      <div>
        <div class="mb-4 flex flex-col md:flex-row gap-5 justify-center">
          @if (doctorDetails.imageUrl) {
            <figure class="md:w-96 lg:w-xs border-2 p-1">
              <img
                class="thumbnail"
                alt="Doctor image"
                [src]="doctorDetails.imageUrl"
              />
            </figure>
          }

          <div class="w-full">
            <h1 class="widget_title text-5xl mb-4">{{ doctorDetails.drName }}</h1>
            @if (doctorDetails.departmentId || doctorDetails.specialty || doctorDetails.degree || doctorDetails.designation) {
              <div class="mb-4">
                <h3 class="widget_title font-bold">Information</h3>
                @if (doctorDetails.departmentId) {
                <div class="flex flex-row border-b-[1px]">
                  <span class="basis-1/4">Department</span>
                  <span class="basis-3/4">{{ department }}</span>
                </div>
                } @if (doctorDetails.specialty) {
                <div class="flex flex-row border-b-[1px]">
                  <span class="basis-1/4">Specialty </span>
                  <span class="basis-3/4">{{ doctorDetails.specialty }}</span>
                </div>
                } @if (doctorDetails.degree) {
                <div class="flex flex-row border-b-[1px]">
                  <span class="basis-1/4">Degree</span>
                  <span class="basis-3/4">{{ doctorDetails.degree }}</span>
                </div>
                } @if (doctorDetails.designation) {
                  <div class="flex flex-row border-b-[1px]">
                    <span class="basis-1/4">Designation</span>
                    <span class="basis-3/4">{{ doctorDetails.designation }}</span>
                  </div>
                  }
              </div>
              }
          </div>
        </div>
        <footer class="block">
          @if (doctorDetails.description) {
            <div>
              <h3 class="widget_title font-bold mt-5">Description</h3>
              <div class="flex flex-row border-b-[1px]">
                <span class="basis-1/4"></span>
                <span class="basis-3/4">{{ doctorDetails.description }}</span>
              </div>
            </div>
            }
          @if (doctorDetails.additional) {
            <div>
              <h3 class="widget_title font-bold mt-5">Additional Information</h3>
              <div class="flex flex-row border-b-[1px]">
                <span class="basis-1/4"></span>
                <span class="basis-3/4">{{ doctorDetails.additional }}</span>
              </div>
            </div>
            }
           @if (doctorDetails.phone || doctorDetails.room) {
          <div>
            <h3 class="widget_title font-bold">Room and contact
            </h3>
            @if (doctorDetails.room) {
            <div class="flex flex-row border-b-[1px]">
              <span class="basis-1/4">Room No.</span>
              <span class="basis-3/4">{{ doctorDetails.room }}</span>
            </div>
            } @if (doctorDetails.phone) {
            <div class="flex flex-row border-b-[1px]">
              <span class="basis-1/4">Phone</span>
              <span class="basis-3/4">{{ doctorDetails.phone }}</span>
            </div>
            }
          </div>
          }
           @if (doctorDetails.visitTime || doctorDetails.notice || doctorDetails.fee) {
          <div>
            <h3 class="widget_title font-bold">Visit Time and Fee</h3>
            @if (doctorDetails.visitTime) {
            <div class="flex flex-row border-b-[1px]">
              <span class="basis-1/4">Visit Time</span>
              <span class="basis-3/4">{{ doctorDetails.visitTime }}</span>
            </div>
            } 
            @if (doctorDetails.fee) {
            <div class="flex flex-row border-b-[1px]">
              <span class="basis-1/4">Fee</span>
              <span class="basis-3/4">{{ doctorDetails.fee }}</span>
            </div>
            } 
            @if (doctorDetails.notice) {
            <div class="flex flex-row border-b-[1px]">
              <span class="basis-1/4">Notice</span>
              <span class="basis-3/4">{{ doctorDetails.notice }}</span>
            </div>
            }
          </div>
          }
        </footer>
      </div>
    </div>
  </div>
</div>

<div class="card container mx-auto mb-12 max-w-5xl px-1 md:px-12">
  <div class="card-body">
      <div class="card-actions justify-end">
          <button (click)="openAppointment()" class="btn btn-primary text-white">Appointment</button>
        </div>
  </div>
</div>
} @else {
  <div
  class="block mt-10 mb-4 mx-auto h-12 w-12 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"
  role="status"
>
  <span
    class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"
    >Loading...</span
  >
</div>
}


  
@if(showAppointment) {
  <app-appointment-modal [doctor]="doctorDetails" (closeAppointment)="closeAppointment()"></app-appointment-modal>
}
